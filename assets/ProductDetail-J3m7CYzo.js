import{u as v}from"./cart-BrN0754i.js";import{_ as k,o as i,c as n,a as e,t as d,b as _,F as m,r as g,d as h,w as p,v as y,e as C,u as f}from"./index-BBfN2l5n.js";const b={setup(){const l=f();return{goBack:()=>{l.back()}}},data(){return{product:null,quantity:1,selectedColor:null,selectedMode:null,note:""}},computed:{isFormValid(){return this.selectedColor!==null&&this.selectedMode!==null}},methods:{fetchProduct(){const l=parseInt(this.$route.params.id),u=[{id:1,name:"便攜式狗狗飲水器",price:99,description:"適合外出旅行或散步的便攜飲水器",image:new URL("/animalperson0110-main/assets/product1-Dh-pdtg4.png",import.meta.url).href,tag:"紅標",colors:["白色","綠色","藍色"],modes:["手動模式","智能感應模式"]},{id:2,name:"智能逗貓棒",price:199,description:"自動偵測貓咪動態並吸引互動。",image:new URL("/animalperson0110-main/assets/product2-C8OuTCmb.png",import.meta.url).href,tag:"紅標",colors:["白色","綠色"],modes:["手動模式","智能感應模式"]},{id:3,name:"智能逗貓棒",price:199,description:"自動偵測貓咪動態並吸引互動。",image:new URL("/animalperson0110-main/assets/product2-C8OuTCmb.png",import.meta.url).href,tag:"紅標",colors:["白色","綠色"],modes:["手動模式","智能感應模式"]},{id:4,name:"高級貓抓板",price:299,description:"適合貓咪玩樂和休息的高級抓板",image:new URL("/animalperson0110-main/assets/product1-Dh-pdtg4.png",import.meta.url).href,tag:"藍標",colors:["棕色","灰色"],modes:["耐磨模式","靜音模式"]}].find(a=>a.id===l);u?this.product=u:console.error("未找到對應的商品，productId:",l)},decreaseQuantity(){this.quantity>1&&(this.quantity-=1)},increaseQuantity(){this.quantity+=1},addToCart(){if(!this.isFormValid){alert("請選擇顏色和模式後再加入購物車！");return}v().addToCart({id:this.product.id,name:this.product.name,price:this.product.price,image:this.product.image,quantity:this.quantity,color:this.selectedColor,mode:this.selectedMode,note:this.note}),alert("商品已加入購物車！"),this.$router.push("/index")}},watch:{"$route.params.id":{handler(){this.fetchProduct()},immediate:!0}}},w={key:0,class:"product-detail-container"},q={class:"image-container"},x=["src"],V={class:"topcontent"},B={class:"price"},M={class:"description"},T={key:0,class:"badge"},U={class:"quantity"},Q={class:"quantitycontent"},R={class:"options"},D={class:"colorcontent"},F=["value"],L={class:"options"},I={class:"colormodel"},S=["value"],N=["disabled"],P={key:1};function O(l,t,u,a,s,r){return s.product?(i(),n("div",w,[e("div",q,[e("button",{class:"back-btn",onClick:t[0]||(t[0]=(...o)=>a.goBack&&a.goBack(...o))},t[7]||(t[7]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"})],-1)])),e("img",{src:s.product.image,alt:"商品圖片",class:"product-image"},null,8,x)]),e("div",V,[e("h2",null,d(s.product.name),1),e("p",B,"$"+d(s.product.price),1),e("p",M,d(s.product.description),1),s.product.tag?(i(),n("span",T,d(s.product.tag),1)):_("",!0)]),e("div",U,[t[8]||(t[8]=e("p",null,"數量",-1)),e("div",Q,[e("button",{onClick:t[1]||(t[1]=(...o)=>r.decreaseQuantity&&r.decreaseQuantity(...o))},"-"),e("span",null,d(s.quantity),1),e("button",{onClick:t[2]||(t[2]=(...o)=>r.increaseQuantity&&r.increaseQuantity(...o))},"+")])]),e("div",R,[t[9]||(t[9]=e("p",null,"顏色",-1)),e("div",D,[(i(!0),n(m,null,g(s.product.colors,o=>(i(),n("label",{key:o},[h(d(o)+" ",1),p(e("input",{type:"radio",name:"color",value:o,"onUpdate:modelValue":t[3]||(t[3]=c=>s.selectedColor=c)},null,8,F),[[y,s.selectedColor]])]))),128))])]),e("div",L,[t[10]||(t[10]=e("p",null,"模式",-1)),e("div",I,[(i(!0),n(m,null,g(s.product.modes,o=>(i(),n("label",{key:o},[h(d(o)+" ",1),p(e("input",{type:"radio",name:"mode",value:o,"onUpdate:modelValue":t[4]||(t[4]=c=>s.selectedMode=c)},null,8,S),[[y,s.selectedMode]])]))),128))])]),p(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=o=>s.note=o),placeholder:"新增備註"},null,512),[[C,s.note]]),e("button",{class:"add-to-cart-btn",onClick:t[6]||(t[6]=(...o)=>r.addToCart&&r.addToCart(...o)),disabled:!r.isFormValid}," 加入購物車 ",8,N)])):(i(),n("div",P,t[11]||(t[11]=[e("p",null,"商品數據加載中...",-1)])))}const z=k(b,[["render",O],["__scopeId","data-v-c2d8eec5"]]);export{z as default};
